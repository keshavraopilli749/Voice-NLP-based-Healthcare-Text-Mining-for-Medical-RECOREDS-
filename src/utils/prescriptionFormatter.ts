
export interface Prescription {
  disease: string;
  medicines: Array<{
    name: string;
    dosage: string;
    notes?: string;
  }>;
  symptoms: string[];
  date: string;
  doctorName: string;
}

export function formatPrescription(prescription: Prescription): string {
  const { disease, medicines, symptoms, date, doctorName } = prescription;
  
  let formatted = `üè• MEDICAL PRESCRIPTION\n`;
  formatted += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
  
  formatted += `üë®‚Äç‚öïÔ∏è Doctor: ${doctorName}\n`;
  formatted += `üìÖ Date: ${date}\n\n`;
  
  formatted += `üîç DIAGNOSIS:\n`;
  formatted += `${disease}\n\n`;
  
  formatted += `ü©∫ SYMPTOMS:\n`;
  symptoms.forEach((symptom, index) => {
    formatted += `‚Ä¢ ${symptom}\n`;
  });
  formatted += `\n`;
  
  formatted += `üíä PRESCRIBED MEDICINES:\n`;
  formatted += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
  
  medicines.forEach((medicine, index) => {
    formatted += `${index + 1}. ${medicine.name}\n`;
    formatted += `   Dosage: ${medicine.dosage}\n`;
    if (medicine.notes) {
      formatted += `   Note: ${medicine.notes}\n`;
    }
    formatted += `\n`;
  });
  
  formatted += `‚ö†Ô∏è IMPORTANT NOTES:\n`;
  formatted += `‚Ä¢ Take medicines as prescribed\n`;
  formatted += `‚Ä¢ Complete the full course\n`;
  formatted += `‚Ä¢ Consult doctor if symptoms persist\n`;
  formatted += `‚Ä¢ Keep medicines away from children\n\n`;
  
  formatted += `Generated by MedVoice AI Assistant\n`;
  formatted += `For emergency, call your local emergency number\n`;
  
  return formatted;
}
